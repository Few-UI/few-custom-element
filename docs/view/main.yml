# view
view:
  template:
    <f-view src="view/frame">
      <f-view slot="primary" src="view/toc" model="tocModel"></f-view>
      <div slot="secondary">
        <div f-cond="/\.yml$/.test(tocModel.items[tocModel.selection].src)"
              class="few-sample-app-md-align-polyfill">
        </div>
        <f-view f-cond="/\.yml$/.test(tocModel.items[tocModel.selection].src)"
                   src="${tocModel.items[tocModel.selection].src.replace(/\.yml$/,'')}">
        </f-view>
        <md-view f-cond="/\.md$/.test(tocModel.items[tocModel.selection].src)"
                    src="${tocModel.items[tocModel.selection].src.replace(/\.md$/,'')}">
        </md-view>
      </div>
    </f-view>
  import:
    - lib/md-view

# model
model:
  tocModel:
    selection: 0

# init
init:
  - loadContent

# action
action:
  getContent:
    name: few.httpGet
    input:
      url: config/content.json

  parseJson:
    name: JSON.parse
    input:
      val: ${scope}
    output:
      tocModel.items: ''

  loadContent:
    - getContent
    - parseJson

# option
option:
# scopePath: scope
  actionPaths:
    - action
  stringTemplate:
    pattern: /^\s*\${\s*([\S\s\r\n]*)\s*}\s*$/m
    index: 1

