# view
view:
  template:
    <h3 class="header">Child Form</h3>
    <form class="pure-form" onsubmit="${action.totalUpdate}">
      <label for="name">Name:</label>
      <input type="text" name="user_name" onKeyPress="if (event.which == 13) return false;">
      <button type="submit">${testMsg}</button>
      <div>${valueFromParent}</div>
    </form>
  import:
    - lib/sample-button

# model
model:
  subCounter: 21
  testMsg: Update Cross Component

# action
action:
  setValue:
    import: lib/sample-utils
    name: setValue
    input:
      value:
        element: '${scope.element}'
        user_name: '${few.getFormInput(scope.element).user_name}'

  updateInput:
    import: lib/sample-utils
    name: testProcAsync
    input:
      user_name: '${scope.user_name}'
    output:
      testMsg: ''

  submitInfo:
    name: few.requestUpdate
    input:
      element: '${scope.element}'
      data: '${scope.user_name}'

  totalUpdate:
    - setValue
    - submitInfo
    # - updateInput

#option
option:
# scopePath: scope
  actionPaths:
    - action
#  stringTemplate:
#    pattern: '/^\s*\${\s*([\S\s\r\n]*)\s*}\s*$/m'
#    index: 1

